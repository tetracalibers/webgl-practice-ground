---
title: "2点を結ぶ線分を描くline関数の実装"
category: glsl
subcategory: shape
---

import Canvas from "@/canvas/draw-line-glsl/canvas.astro"

<Canvas />

## 線分の判定

### dist の指し示す点が線分上にある

- dot(xy - p1, p2 - p1) が正（なす角が 90 度より小）
- dot(xy - p2, p1 - p2) が正（なす角が 90 度より小）

![](/webgl-practice-ground/articles/draw-line-glsl/dot-p-times-p.svg)

### dist の指し示す点は線分上にない

- dot(xy - p1, p2 - p1) が正（なす角が 90 度より小）
- dot(xy - p2, p1 - p2) が負（なす角が 90 度より大）

![](/webgl-practice-ground/articles/draw-line-glsl/dot-p-times-n.svg)

- dot(xy - p1, p2 - p1) が負（なす角が 90 度より大）
- dot(xy - p2, p1 - p2) が正（なす角が 90 度より小）

![](/webgl-practice-ground/articles/draw-line-glsl/dot-n-times-p.svg)

## 参考

- [【GLSL】2 点を結ぶ線分を書く](https://blog.narumium.net/2020/09/12/%E3%80%90glsl%E3%80%912%E7%82%B9%E3%82%92%E7%B5%90%E3%81%B6%E7%B7%9A%E5%88%86%E3%82%92%E6%9B%B8%E3%81%8F/)
